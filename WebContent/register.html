<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Login Page | Car pooling system</title>
    <link rel="shortcut icon" href="adminResources/images/favicon.ico">
    <!--STYLESHEET-->
    <!--=================================================-->
    <!--Roboto Slab Font [ OPTIONAL ] -->
    <link href="http://fonts.googleapis.com/css?family=Roboto+Slab:400,300,100,700" rel="stylesheet">
    <link href="http://fonts.googleapis.com/css?family=Roboto:500,400italic,100,700italic,300,700,500italic,400" rel="stylesheet">
    <!--Bootstrap Stylesheet [ REQUIRED ]-->
    <link href="adminResources/css/bootstrap.min.css" rel="stylesheet">
    <!--Jasmine Stylesheet [ REQUIRED ]-->
    <link href="adminResources/css/style.css" rel="stylesheet">

    <!--SCRIPT-->
    <!--=================================================-->
    <!--Page Load Progress Bar [ OPTIONAL ]-->
    <link href="adminResources/css/pace.min.css" rel="stylesheet">
    <script src="adminResources/js/pace.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>
<!--TIPS-->
<!--You may remove all ID or Class names which contain "demo-", they are only used for demonstration. -->

<body class="bg-dark text-dark">
    <div id="container">
        <!-- LOGIN FORM -->
        <!--===================================================-->
        <div class="lock-wrapper">
            <div class="row">
                <div class="col-xs-12">
                    <div class="lock-box">
                        <div class="main">
                            <h3>Register</h3>

                            <form action="register-response.jsp">
                                <div class="form-group p-2 mt-2">
                                    <label for="inputUsernameEmail">Username</label>
                                    <input type="text" class="form-control" name="username" required="required"/>
                                </div>
                                
                                <div class="form-group p-2 mt-2">
                                    <!-- <a class="pull-right" href="#">Forgot password?</a> -->
                                    <label for="inputPassword">Password</label>
                                    <input type="password" class="form-control" name="password" required="required"/>
                                </div>
                                
                                <div class="form-group p-2 mt-2">
                                    <label for="inputUsernameEmail">FirstName</label>
                                    <input type="text" class="form-control" name="firstName" required="required"/>
                                </div>
                                
                                <div class="form-group p-2 mt-2">
                                    <label for="inputUsernameEmail">LastName</label>
                                    <input type="text" class="form-control" name="lastName" required="required"/>
                                </div>

                                <div class="form-group p-2 mt-2">
                                    <!-- <a class="pull-right" href="#">Forgot password?</a> -->
                                    <label for="inputPassword">Email</label>
                                    <input type="text" class="form-control" name="email" required="required"/>
                                </div>

                                

                                <div class="form-group p-2 mt-2">
                                  <label for="accountType">Account Type</label>
                                  <select class="form-control" name="accountType">
                                    <option>Customer</option>
                                    <option>Driver</option>
                                  </select>
                                </div>
                                <br>
                                <input class="btn btn-primary" type="submit" value="Register">
                            </form>
                          </div>

                    </div>
                </div>

            </div>
        </div>



<script>


$('#register').submit(function(e) {
           // reference to form object
       var form = this;
           // for stopping the default action of element
           e.preventDefault();
           // mapthat will hold form data
           var formData = {}
            //iterate over form elements
           $.each(this, function(i, v){
             var input = $(v);
            // populate form data as key-value pairs
         // with the name of input as key and its value as value

            formData[input.attr("name")] = input.val();

           });

           $.ajax({
               type: 'POST', // method attribute of form
               url: 'https://localhost:3030/registration/user',  // action attribute of form
               data : JSON.stringify(formData),
               contentType: 'application/json',
               success: function() {
                 alert("Registered!");
                 // location.href = "login.html";
               },
               error: function() {alert("Oops!");}
           });
      });
</script>
</body>

</html>
